<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | RushHour</title>

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">ğŸ´ RushHour</div>
            <div class="nav-right">
                <span class="user-name">ğŸ‘¨â€ğŸ’¼ Admin</span>
                <a href="index.html" class="nav-back">Logout</a>
            </div>
        </div>
    </nav>

    <!-- DASHBOARD HEADER -->
    <section class="dashboard-hero">
        <div class="dashboard-content">
            <h1>Admin Dashboard ğŸ‘¨â€ğŸ³</h1>
            <p class="dashboard-tagline">Manage canteen orders efficiently</p>
        </div>
    </section>

    <!-- STATISTICS SECTION -->
    <section class="admin-stats">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ“Š</div>
                <div class="stat-info">
                    <span class="stat-label">Total Orders</span>
                    <span class="stat-number" id="totalOrders">3</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">â³</div>
                <div class="stat-info">
                    <span class="stat-label">Preparing</span>
                    <span class="stat-number" id="preparingCount">0</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âœ…</div>
                <div class="stat-info">
                    <span class="stat-label">Ready</span>
                    <span class="stat-number" id="readyCount">0</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ’°</div>
                <div class="stat-info">
                    <span class="stat-label">Revenue Today</span>
                    <span class="stat-number">â‚¹6,000</span>
                </div>
            </div>
        </div>
    </section>

    <!-- MAIN DASHBOARD -->
    <section class="admin-main">
        <div class="admin-container">
            <div class="orders-header">
                <h2>Active Orders</h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterOrders('all')">All</button>
                    <button class="filter-btn" onclick="filterOrders('preparing')">Preparing</button>
                    <button class="filter-btn" onclick="filterOrders('ready')">Ready</button>
                </div>
            </div>

            <div id="ordersList" class="orders-grid"></div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2026 RushHour. All rights reserved.</p>
        </div>
    </footer>

    <script>
        let orders = [
            { token: 101, item: "Meals", status: "Preparing", price: 60 },
            { token: 102, item: "Chicken Fry", status: "Preparing", price: 80 },
            { token: 103, item: "Tea", status: "Preparing", price: 10 }
        ];

        let currentFilter = 'all';

        function getStatusIcon(status) {
            switch(status) {
                case 'Preparing': return 'â³';
                case 'Ready for Pickup': return 'âœ…';
                default: return 'ğŸ“¦';
            }
        }

        function getStatusColor(status) {
            switch(status) {
                case 'Preparing': return 'preparing';
                case 'Ready for Pickup': return 'ready';
                default: return 'default';
            }
        }

        function renderOrders() {
            const list = document.getElementById("ordersList");
            
            const filtered = currentFilter === 'all' 
                ? orders 
                : orders.filter(o => {
                    if (currentFilter === 'preparing') return o.status === 'Preparing';
                    if (currentFilter === 'ready') return o.status === 'Ready for Pickup';
                    return true;
                });

            if (filtered.length === 0) {
                list.innerHTML = '<div class="no-orders-message">No orders in this category</div>';
                return;
            }

            list.innerHTML = filtered.map((order, index) => `
                <div class="order-card">
                    <div class="order-header">
                        <div class="token-badge">#${order.token}</div>
                        <div class="order-item-name">${order.item}</div>
                        <span class="status-badge ${getStatusColor(order.status)}">${getStatusIcon(order.status)} ${order.status}</span>
                    </div>

                    <div class="order-body">
                        <div class="order-details">
                            <span class="detail-label">Item:</span>
                            <span class="detail-value">${order.item}</span>
                        </div>
                        <div class="order-details">
                            <span class="detail-label">Price:</span>
                            <span class="detail-value">â‚¹${order.price}</span>
                        </div>
                    </div>

                    <div class="order-actions">
                        <button class="action-btn btn-preparing" onclick="setPreparing(${index})" ${order.status === 'Preparing' ? 'disabled' : ''}>
                            â³ Preparing
                        </button>
                        <button class="action-btn btn-ready" onclick="setReady(${index})" ${order.status === 'Ready for Pickup' ? 'disabled' : ''}>
                            âœ… Ready
                        </button>
                        <button class="action-btn btn-done" onclick="deleteOrder(${index})">
                            ğŸ—‘ Done
                        </button>
                    </div>
                </div>
            `).join('');

            updateStats();
        }

        function setPreparing(i) {
            orders[i].status = "Preparing";
            renderOrders();
        }

        function setReady(i) {
            orders[i].status = "Ready for Pickup";
            renderOrders();
        }

        function deleteOrder(i) {
            orders.splice(i, 1);
            renderOrders();
        }

        function filterOrders(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderOrders();
        }

        function updateStats() {
            const total = orders.length;
            const preparing = orders.filter(o => o.status === 'Preparing').length;
            const ready = orders.filter(o => o.status === 'Ready for Pickup').length;

            document.getElementById('totalOrders').textContent = total;
            document.getElementById('preparingCount').textContent = preparing;
            document.getElementById('readyCount').textContent = ready;
        }

        // Initial render
        renderOrders();
    </script>

</body>
</html>
